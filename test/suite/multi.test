plugin_register functions/parallel_query

table_create Docs TABLE_NO_KEY
column_create Docs title COLUMN_SCALAR ShortText
column_create Docs abstract COLUMN_SCALAR ShortText
column_create Docs description COLUMN_SCALAR ShortText

table_create Lexicon TABLE_HASH_KEY ShortText \
  --default_tokenizer TokenBigramSplitSymbolAlphaDigit \
  --normalizer NormalizerAuto
column_create Lexicon docs_title COLUMN_INDEX|WITH_POSITION Docs title
column_create Lexicon docs_abstract COLUMN_INDEX|WITH_POSITION Docs abstract
column_create Lexicon docs_description COLUMN_INDEX|WITH_POSITION Docs description

load --table Docs
[
{"title": "Book A", "abstract": "Book abstract", "description": "Book description"},
{"title": "Book B", "abstract": "Book abstract", "description": "Book description"},
{"title": "Book C", "abstract": "Book abstract", "description": "Book description"}
]

select Docs \
  --output_columns title,_score \
  --filter 'parallel_query("title * 100 || abstract * 50 || description * 1", "book")'
